<div class="input-wrapper" [class.no-label]="!label">

  <input [id]="id + 'input'"
         class="input with-icon"
         (blur)="onTouched()"
         [rbDropdown]="dropdown"
         [autoClose]="false"
         [hugContent]="true"
         [readonly]="isReadonly()"
         [value]="displayValue"
         #input>
  <span class="input-icon rb-ic rb-ic-calendar"></span>
  <label class="label" [for]="id + 'input'">
    {{!isLabelTemplate()?label:''}}
    <ng-container *ngIf="isLabelTemplate()">
      <ng-container *ngTemplateOutlet="label"></ng-container>
    </ng-container>
  </label>
  <span class="input-background"></span>
</div>
<rb-form-errors [messages]="messages"></rb-form-errors>

<ng-template #dropdown>
  <rb-date-range-picker [options]="options"
                        [name]="name"
                        [ngModel]="value"
                        (ngModelChange)="updateValue($event)"
                        [allowRelative]="allowRelative"
                        [startLabel]="startLabel"
                        [endLabel]="endLabel"
                        [absoluteLabel]="absoluteLabel"
                        [relativeLabel]="relativeLabel"
                        [presetsLabel]="presetsLabel"
                        [presets]="presets"
  ></rb-date-range-picker>
</ng-template>
