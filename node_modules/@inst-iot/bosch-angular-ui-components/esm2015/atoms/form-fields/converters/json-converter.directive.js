import * as tslib_1 from "tslib";
var JsonConverterDirective_1;
import { Directive, forwardRef } from '@angular/core';
import { CUSTOM_VALUE_CONVERTER } from '../form-input/form-input.component';
let JsonConverterDirective = JsonConverterDirective_1 = class JsonConverterDirective {
    modelToValue(model) {
        return JSON.stringify(model);
    }
    valueToModel(value) {
        try {
            return JSON.parse(value);
        }
        catch (e) {
            console.warn('Could not parse JSON', value, e);
            return null;
        }
    }
};
JsonConverterDirective = JsonConverterDirective_1 = tslib_1.__decorate([
    Directive({
        selector: '[rbJsonConverter]',
        providers: [{ provide: CUSTOM_VALUE_CONVERTER, useExisting: forwardRef(() => JsonConverterDirective_1) }]
    })
], JsonConverterDirective);
export { JsonConverterDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi1jb252ZXJ0ZXIuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGluc3QtaW90L2Jvc2NoLWFuZ3VsYXItdWktY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImF0b21zL2Zvcm0tZmllbGRzL2NvbnZlcnRlcnMvanNvbi1jb252ZXJ0ZXIuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdEQsT0FBTyxFQUFFLHNCQUFzQixFQUF3QixNQUFNLG9DQUFvQyxDQUFDO0FBTWxHLElBQWEsc0JBQXNCLDhCQUFuQyxNQUFhLHNCQUFzQjtJQUNqQyxZQUFZLENBQUMsS0FBVTtRQUNyQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFhO1FBQ3hCLElBQUk7WUFDRixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDMUI7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNWLE9BQU8sQ0FBQyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQy9DLE9BQU8sSUFBSSxDQUFDO1NBQ2I7SUFDSCxDQUFDO0NBQ0YsQ0FBQTtBQWJZLHNCQUFzQjtJQUpsQyxTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsbUJBQW1CO1FBQzdCLFNBQVMsRUFBRSxDQUFDLEVBQUMsT0FBTyxFQUFFLHNCQUFzQixFQUFFLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsd0JBQXNCLENBQUMsRUFBQyxDQUFDO0tBQ3RHLENBQUM7R0FDVyxzQkFBc0IsQ0FhbEM7U0FiWSxzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIGZvcndhcmRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ1VTVE9NX1ZBTFVFX0NPTlZFUlRFUiwgQ3VzdG9tVmFsdWVDb252ZXJ0ZXIgfSBmcm9tICcuLi9mb3JtLWlucHV0L2Zvcm0taW5wdXQuY29tcG9uZW50JztcclxuXHJcbkBEaXJlY3RpdmUoe1xyXG4gIHNlbGVjdG9yOiAnW3JiSnNvbkNvbnZlcnRlcl0nLFxyXG4gIHByb3ZpZGVyczogW3twcm92aWRlOiBDVVNUT01fVkFMVUVfQ09OVkVSVEVSLCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBKc29uQ29udmVydGVyRGlyZWN0aXZlKX1dXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBKc29uQ29udmVydGVyRGlyZWN0aXZlIGltcGxlbWVudHMgQ3VzdG9tVmFsdWVDb252ZXJ0ZXIge1xyXG4gIG1vZGVsVG9WYWx1ZShtb2RlbDogYW55KTogc3RyaW5nIHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShtb2RlbCk7XHJcbiAgfVxyXG5cclxuICB2YWx1ZVRvTW9kZWwodmFsdWU6IHN0cmluZyk6IGFueSB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IHBhcnNlIEpTT04nLCB2YWx1ZSwgZSk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=