import * as tslib_1 from "tslib";
import { ApplicationRef, ComponentFactoryResolver, Directive, HostListener, Injector, Input, Optional } from '@angular/core';
import { ModalService } from './modal.service';
var ModalDirective = /** @class */ (function () {
    function ModalDirective(modalService, factoryResolver, injector, appRef) {
        this.modalService = modalService;
        this.showClose = true;
        this.position = 'middle';
        this.backdropClose = true;
        this.stacked = false;
        if (!this.modalService) {
            this.modalService = new ModalService(factoryResolver, injector, appRef);
        }
    }
    ModalDirective.prototype.click = function (event) {
        event.preventDefault();
        this.modalService.open(this.content, {
            showClose: this.showClose,
            position: this.position,
            maxWidth: this.maxWidth,
            backdropClose: this.backdropClose,
            stacked: this.stacked
        });
    };
    Object.defineProperty(ModalDirective.prototype, "rbModal", {
        set: function (content) {
            this.content = content;
        },
        enumerable: true,
        configurable: true
    });
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], ModalDirective.prototype, "showClose", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], ModalDirective.prototype, "position", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], ModalDirective.prototype, "maxWidth", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], ModalDirective.prototype, "backdropClose", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], ModalDirective.prototype, "stacked", void 0);
    tslib_1.__decorate([
        HostListener('click', ['$event']),
        tslib_1.__metadata("design:type", Function),
        tslib_1.__metadata("design:paramtypes", [MouseEvent]),
        tslib_1.__metadata("design:returntype", void 0)
    ], ModalDirective.prototype, "click", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object),
        tslib_1.__metadata("design:paramtypes", [Object])
    ], ModalDirective.prototype, "rbModal", null);
    ModalDirective = tslib_1.__decorate([
        Directive({
            selector: '[rbModal]'
        }),
        tslib_1.__param(0, Optional()),
        tslib_1.__metadata("design:paramtypes", [ModalService,
            ComponentFactoryResolver,
            Injector,
            ApplicationRef])
    ], ModalDirective);
    return ModalDirective;
}());
export { ModalDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGluc3QtaW90L2Jvc2NoLWFuZ3VsYXItdWktY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImF0b21zL21vZGFsL21vZGFsLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSx3QkFBd0IsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFlLE1BQU0sZUFBZSxDQUFDO0FBQzFJLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUsvQztJQVNFLHdCQUFnQyxZQUEwQixFQUM5QyxlQUF5QyxFQUN6QyxRQUFrQixFQUNsQixNQUFzQjtRQUhGLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBTmpELGNBQVMsR0FBRyxJQUFJLENBQUM7UUFDakIsYUFBUSxHQUFnQyxRQUFRLENBQUM7UUFFakQsa0JBQWEsR0FBRyxJQUFJLENBQUM7UUFDckIsWUFBTyxHQUFHLEtBQUssQ0FBQztRQU12QixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRTtZQUN0QixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDekU7SUFDSCxDQUFDO0lBRWtDLDhCQUFLLEdBQUwsVUFBTSxLQUFpQjtRQUN4RCxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7UUFFdkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNuQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7WUFDekIsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO1lBQ3ZCLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtZQUN2QixhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWE7WUFDakMsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1NBQ3RCLENBQUMsQ0FBQztJQUVMLENBQUM7SUFFUSxzQkFBSSxtQ0FBTzthQUFYLFVBQVksT0FBa0M7WUFDckQsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUE5QlE7UUFBUixLQUFLLEVBQUU7O3FEQUFrQjtJQUNqQjtRQUFSLEtBQUssRUFBRTs7b0RBQWtEO0lBQ2pEO1FBQVIsS0FBSyxFQUFFOztvREFBa0I7SUFDakI7UUFBUixLQUFLLEVBQUU7O3lEQUFzQjtJQUNyQjtRQUFSLEtBQUssRUFBRTs7bURBQWlCO0lBV1U7UUFBbEMsWUFBWSxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDOztpREFBYyxVQUFVOzsrQ0FXekQ7SUFFUTtRQUFSLEtBQUssRUFBRTs7O2lEQUVQO0lBakNVLGNBQWM7UUFIMUIsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLFdBQVc7U0FDdEIsQ0FBQztRQVVhLG1CQUFBLFFBQVEsRUFBRSxDQUFBO2lEQUF1QixZQUFZO1lBQzdCLHdCQUF3QjtZQUMvQixRQUFRO1lBQ1YsY0FBYztPQVp2QixjQUFjLENBbUMxQjtJQUFELHFCQUFDO0NBQUEsQUFuQ0QsSUFtQ0M7U0FuQ1ksY0FBYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcGxpY2F0aW9uUmVmLCBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIERpcmVjdGl2ZSwgSG9zdExpc3RlbmVyLCBJbmplY3RvciwgSW5wdXQsIE9wdGlvbmFsLCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTW9kYWxTZXJ2aWNlIH0gZnJvbSAnLi9tb2RhbC5zZXJ2aWNlJztcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW3JiTW9kYWxdJ1xufSlcbmV4cG9ydCBjbGFzcyBNb2RhbERpcmVjdGl2ZSB7XG5cbiAgY29udGVudDogc3RyaW5nIHwgVGVtcGxhdGVSZWY8YW55PjtcbiAgQElucHV0KCkgc2hvd0Nsb3NlID0gdHJ1ZTtcbiAgQElucHV0KCkgcG9zaXRpb246ICdtaWRkbGUnIHwgJ3RvcCcgfCAnYm90dG9tJyA9ICdtaWRkbGUnO1xuICBASW5wdXQoKSBtYXhXaWR0aDogc3RyaW5nO1xuICBASW5wdXQoKSBiYWNrZHJvcENsb3NlID0gdHJ1ZTtcbiAgQElucHV0KCkgc3RhY2tlZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIHByaXZhdGUgbW9kYWxTZXJ2aWNlOiBNb2RhbFNlcnZpY2UsXG4gICAgICAgICAgICAgIGZhY3RvcnlSZXNvbHZlcjogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxuICAgICAgICAgICAgICBpbmplY3RvcjogSW5qZWN0b3IsXG4gICAgICAgICAgICAgIGFwcFJlZjogQXBwbGljYXRpb25SZWYpIHtcbiAgICBpZiAoIXRoaXMubW9kYWxTZXJ2aWNlKSB7XG4gICAgICB0aGlzLm1vZGFsU2VydmljZSA9IG5ldyBNb2RhbFNlcnZpY2UoZmFjdG9yeVJlc29sdmVyLCBpbmplY3RvciwgYXBwUmVmKTtcbiAgICB9XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50J10pIGNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRoaXMubW9kYWxTZXJ2aWNlLm9wZW4odGhpcy5jb250ZW50LCB7XG4gICAgICBzaG93Q2xvc2U6IHRoaXMuc2hvd0Nsb3NlLFxuICAgICAgcG9zaXRpb246IHRoaXMucG9zaXRpb24sXG4gICAgICBtYXhXaWR0aDogdGhpcy5tYXhXaWR0aCxcbiAgICAgIGJhY2tkcm9wQ2xvc2U6IHRoaXMuYmFja2Ryb3BDbG9zZSxcbiAgICAgIHN0YWNrZWQ6IHRoaXMuc3RhY2tlZFxuICAgIH0pO1xuXG4gIH1cblxuICBASW5wdXQoKSBzZXQgcmJNb2RhbChjb250ZW50OiBzdHJpbmcgfCBUZW1wbGF0ZVJlZjxhbnk+KSB7XG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgfVxuXG59XG4iXX0=